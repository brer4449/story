[{"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\index.js":"1","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\App.js":"2","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\firebase.js":"3","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\pages\\HomePage.js":"4","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\pages\\SignupPage.js":"5","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\pages\\LibraryPage.js":"6","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\pages\\GiftPage.js":"7","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\Navbar\\index.js":"8","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\Footer\\index.js":"9","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\Login\\index.js":"10","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\ClientForm\\index.js":"11","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\Proposal\\index.js":"12","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\GoogleLogout\\index.js":"13","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\GoogleLogin\\index.js":"14","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\utils\\refreshtoken.js":"15"},{"size":166,"mtime":1607225317733,"results":"16","hashOfConfig":"17"},{"size":997,"mtime":1609515074273,"results":"18","hashOfConfig":"17"},{"size":1372,"mtime":1609790562421,"results":"19","hashOfConfig":"17"},{"size":2995,"mtime":1609285638289,"results":"20","hashOfConfig":"17"},{"size":755,"mtime":1609351705130,"results":"21","hashOfConfig":"17"},{"size":1399,"mtime":1609285650134,"results":"22","hashOfConfig":"17"},{"size":825,"mtime":1609285645220,"results":"23","hashOfConfig":"17"},{"size":2423,"mtime":1609790475930,"results":"24","hashOfConfig":"17"},{"size":242,"mtime":1609283683514,"results":"25","hashOfConfig":"17"},{"size":1353,"mtime":1609120018891,"results":"26","hashOfConfig":"17"},{"size":5814,"mtime":1609790916739,"results":"27","hashOfConfig":"17"},{"size":4789,"mtime":1609791603626,"results":"28","hashOfConfig":"17"},{"size":621,"mtime":1609120182505,"results":"29","hashOfConfig":"17"},{"size":1060,"mtime":1609121965528,"results":"30","hashOfConfig":"17"},{"size":905,"mtime":1609122244464,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"tl9nfn",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\index.js",[],["64","65"],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\App.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\firebase.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\pages\\HomePage.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\pages\\SignupPage.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\pages\\LibraryPage.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\pages\\GiftPage.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\Navbar\\index.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\Footer\\index.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\Login\\index.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\ClientForm\\index.js",["66"],"import React, { useState, useEffect } from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport \"./style.css\";\r\nimport axios from \"axios\";\r\nimport db from \"../../firebase\";\r\n\r\nconst ClientForm = () => {\r\n  const [inputs, setInputs] = useState({\r\n    timeFrame: \"\",\r\n    recipient: \"\",\r\n    priceRange: \"\",\r\n    genre: \"\",\r\n    size: \"\",\r\n    specifics: \"\",\r\n  });\r\n  // Server state handling\r\n  const [serverState, setServerState] = useState({\r\n    submitting: false,\r\n    status: null,\r\n  });\r\n  //State to track field errors\r\n  const [fieldErrors, setFieldErrors] = useState({});\r\n\r\n  //Validation rules for each input field\r\n  const validationRules = {\r\n    timeFrame: (val) => !!val,\r\n    recipient: (val) => !!val,\r\n    priceRange: (val) => !!val,\r\n    genre: (val) => !!val,\r\n    size: (val) => !!val,\r\n    specifics: (val) => !!val,\r\n  };\r\n\r\n  // Validate function that updates state and returns true if all rules pass\r\n  const validate = () => {\r\n    let errors = {};\r\n    let hasErrors = false;\r\n    for (let key of Object.keys(inputs)) {\r\n      errors[key] = !validationRules[key](inputs[key]);\r\n      hasErrors |= errors[key];\r\n    }\r\n    setFieldErrors((prev) => ({ ...prev, ...errors }));\r\n    return !hasErrors;\r\n  };\r\n\r\n  // Render method to display field errors\r\n  const renderFieldError = (field) => {\r\n    if (fieldErrors[field]) {\r\n      return <p className=\"errorMsg\">Please enter a valid {field}.</p>;\r\n    }\r\n  };\r\n\r\n  const handleOnChange = (e) => {\r\n    e.persist();\r\n    setInputs((prev) => ({\r\n      ...prev,\r\n      [e.target.id]: e.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleServerResponse = (ok, msg) => {\r\n    setServerState({\r\n      submitting: false,\r\n      status: { ok, msg },\r\n    });\r\n    if (ok) {\r\n      setFieldErrors({});\r\n      setInputs({\r\n        timeFrame: \"\",\r\n        recipient: \"\",\r\n        priceRange: \"\",\r\n        genre: \"\",\r\n        size: \"\",\r\n        specifics: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Only perform interactive validation after submit\r\n    if (Object.keys(fieldErrors).length > 0) {\r\n      validate();\r\n    }\r\n  }, [inputs]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!validate()) {\r\n      return;\r\n    }\r\n    db.collection(\"application\")\r\n      .add({\r\n        timeFrame: inputs.timeFrame,\r\n        recipient: inputs.recipient,\r\n        priceRange: inputs.priceRange,\r\n        genre: inputs.genre,\r\n        size: inputs.size,\r\n        specifics: inputs.specifics,\r\n      })\r\n      .then(() => {\r\n        alert(\"Your application has been submitted!\");\r\n      })\r\n      .catch((err) => {\r\n        alert(err.message);\r\n      });\r\n    setServerState({ submitting: true });\r\n    axios({\r\n      method: \"POST\",\r\n      url: `https://formspree.io/f/xyyjvbzz`,\r\n      data: inputs,\r\n    })\r\n      .then((r) => {\r\n        handleServerResponse(true, \"Thanks for submitting your application!\");\r\n      })\r\n      .catch((r) => {\r\n        handleServerResponse(false, r.response.data.error);\r\n      });\r\n  };\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <div className=\"mb-10\">\r\n        <Form.Label htmlFor=\"timeFrame\">Estimated Time Frame:</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          id=\"timeFrame\"\r\n          name=\"timeFrame\"\r\n          placeholder=\"How long will this project take?\"\r\n          value={inputs.timeFrame}\r\n          onChange={handleOnChange}\r\n        ></Form.Control>\r\n        {renderFieldError(\"timeFrame\")}\r\n      </div>\r\n      <div className=\"mb-10\">\r\n        <Form.Label htmlFor=\"recipient\">Recipient:</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          id=\"recipient\"\r\n          name=\"recipient\"\r\n          placeholder=\"Who is the gift for?\"\r\n          value={inputs.recipient}\r\n          onChange={handleOnChange}\r\n        ></Form.Control>\r\n        {renderFieldError(\"recipient\")}\r\n      </div>\r\n      <div className=\"mb-10\">\r\n        <Form.Label htmlFor=\"priceRange\">Price Range:</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          id=\"priceRange\"\r\n          name=\"priceRange\"\r\n          placeholder=\"What's your price range?\"\r\n          value={inputs.priceRange}\r\n          onChange={handleOnChange}\r\n        ></Form.Control>\r\n        {renderFieldError(\"priceRange\")}\r\n      </div>\r\n      <div className=\"mb-10\">\r\n        <Form.Label htmlFor=\"genre\">Genre:</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          id=\"genre\"\r\n          name=\"genre\"\r\n          placeholder=\"What type of story is it?\"\r\n          value={inputs.genre}\r\n          onChange={handleOnChange}\r\n        ></Form.Control>\r\n        {renderFieldError(\"genre\")}\r\n      </div>\r\n      <div className=\"mb-10\">\r\n        <Form.Label htmlFor=\"size\">Size of Project:</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          id=\"size\"\r\n          name=\"size\"\r\n          placeholder=\"How large will the project be?\"\r\n          value={inputs.size}\r\n          onChange={handleOnChange}\r\n        ></Form.Control>\r\n        {renderFieldError(\"size\")}\r\n      </div>\r\n      <div className=\"mb-10\">\r\n        <Form.Label htmlFor=\"specifics\">Specifics About Project:</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          id=\"specifics\"\r\n          name=\"specifics\"\r\n          placeholder=\"What are some things we should know about the project?\"\r\n          value={inputs.specifics}\r\n          onChange={handleOnChange}\r\n        ></Form.Control>\r\n        {renderFieldError(\"specifics\")}\r\n      </div>\r\n      <button className={\"btn btn-primary mb-10 \"} type=\"submit\">\r\n        Submit\r\n      </button>\r\n      {serverState.status && (\r\n        <p className={!serverState.status.ok ? \"errorMsg\" : \"successMsg\"}>\r\n          {serverState.status.msg}\r\n        </p>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\nexport default ClientForm;\r\n","C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\Proposal\\index.js",["67"],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\GoogleLogout\\index.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\components\\GoogleLogin\\index.js",[],"C:\\Users\\13107\\Desktop\\code\\Storied\\story-told\\src\\utils\\refreshtoken.js",[],{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":84,"column":6,"nodeType":"74","endLine":84,"endColumn":14,"suggestions":"75"},{"ruleId":"72","severity":1,"message":"73","line":76,"column":6,"nodeType":"74","endLine":76,"endColumn":14,"suggestions":"76"},"no-native-reassign",["77"],"no-negated-in-lhs",["78"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'fieldErrors' and 'validate'. Either include them or remove the dependency array.","ArrayExpression",["79"],["80"],"no-global-assign","no-unsafe-negation",{"desc":"81","fix":"82"},{"desc":"81","fix":"83"},"Update the dependencies array to be: [fieldErrors, inputs, validate]",{"range":"84","text":"85"},{"range":"86","text":"85"},[2109,2117],"[fieldErrors, inputs, validate]",[1973,1981]]